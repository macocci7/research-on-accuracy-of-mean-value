<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Research on Accuracy of Mean Value in Frequency Table</title>
		<script>
			MathJax = {
			  chtml: {
				matchFontHeight: false
			  },
			  tex: {
    			inlineMath: [['$', '$']]
  			  }
			};
		</script>
		<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
		<link rel="stylesheet" href="css/research.css" />
    </head>
    <body>
		<div class="main">
			<h1>Research on Accuracy of Mean Value in Frequency Table</h1>
			<div class="subject" id="contents">
				<h2>Contents</h2>
				<p class="paragraph">
					<ol>
						<li><a href="#how-to-calculate-mean-value">How to calculate Mean Value in Frequency Table</a></li>
						<li><a href="#difference-from-actual-mean-value">Difference from Actual Mean Value in Frequency Table</a></li>
						<li><a href="#formula-deviation-of-mean-value">Formula deviation of Mean Value</a></li>
						<li><a href="#examination1">Examination1: Changing Class Range</a></li>
						<li><a href="#examination2">Examination2: Changing Number of Data</a></li>
						<li><a href="#conclusion">Conclusion</a></li>
					</ol>
				</p>
			</div>
			<div class="subject" id="how-to-calculate-mean-value">
				<h2>How to calculate Mean Value in Frequency Table</h2>
				<p class="paragraph">
					Example Data:<br />
					<br />
					<span class="data">10, 20, 30, 45, 50, 55, 60, 65, 70, 75, 85, 90, 95</span><br />
					<br />
					<table>
						<caption>Frequency Table of this data</caption>
						<tr>
							<th>#</th>
							<th>Class</th>
							<th>Class Value</th>
							<th>Frequency</th>
							<th>Class Value * Frequency</th>
						</tr>
						<tr>
							<td>1</td>
							<td>0 ~ 20</td>
							<td>10</td>
							<td>1</td>
							<td>10</td>
						</tr>
						<tr>
							<td>2</td>
							<td>20 ~ 40</td>
							<td>30</td>
							<td>2</td>
							<td>60</td>
						</tr>
						<tr>
							<td>3</td>
							<td>40 ~ 60</td>
							<td>50</td>
							<td>3</td>
							<td>150</td>
						</tr>
						<tr>
							<td>4</td>
							<td>60 ~ 80</td>
							<td>70</td>
							<td>4</td>
							<td>280</td>
						</tr>
						<tr>
							<td>5</td>
							<td>80 ~ 100</td>
							<td>90</td>
							<td>3</td>
							<td>270</td>
						</tr>
						<tr>
							<td>-</td>
							<td>TOTAL</td>
							<td>-</td>
							<td>13</td>
							<td>770</td>
						</tr>
						<tr>
							<td>-</td>
							<td>Mean</td>
							<td>-</td>
							<td>-</td>
							<td>59.2</td>
						</tr>
					</table>
					<br />
					The method to calculate Mean Value in Frequency Table is as follows.<br />
					<ol>
						<li>set Class Values.</li>
						<li>set Class Value * Frequency in each Class.</li>
						<li>take the sum of product of the Class Value and the Frequency</li>
						<li>divide the sum by the Total of Frequency</li>
					</ol>
					Then the Mean Value of this Frequency Table results in $59.2$.<br />
				</p>
			</div>
			<div class="subject" id="difference-from-actual-mean-value">
				<h2>Difference from Actual Mean Value</h2>
				<p class="paragraph">
					However, the actual Mean Value of this data is calculated as follows.<br />
					<br />
					$Mean$<br />
						 $= (10 + 20 + 30 + 45 + 50 + 55 + 60 + 65 + 70 + 75 + 85 + 90 + 95) / 13$<br />
					     $= 57.692307692308$<br />
						 $≒ 57.7$<br />
					<br />
					There's big difference.<br />
					<br />
					$DIFF = 59.2 - 57.7 = 1.5$<br />
					<br />
					$RATIO_{DIFF} = 1.5 / 57.7 ≒ 0.026 = 2.6\%$<br />
				</p>
			</div>
			<div class="subject" id="formula-deviation-of-mean-value">
				<h2>Formula Deviation of Mean Value in Frequency Table</h2>
				<p class="paragraph">
					Let the Class Range be the variable $CR$.<br />
					Let the Data Range be the variable $DR$.<br />
					Let the Number of Classes be the variable $C$.<br />
					$$DR = C \times CR \; \Longleftrightarrow \; CR = \frac{DR}{C} \; \Longleftrightarrow \; C = \frac{DR}{CR}$$

					Let the Class Value of $k$ th Class be $CV(k)　( 1 \leq k \leq C)$.<br />
					$$CV(k) = \frac{CR}{2} + CR \times (k - 1) = (k - \frac{1}{2})CR$$

					Let the Frequency of $k$ th Class be $F(k)　( 1 \leq k \leq C)$.<br />
					Product of Class Value and Frequency of $k$ th Class is:<br />
					$$CV(k) \times F(k) = (k - \frac{1}{2})CR \times F(k)$$

					Let the sum of these products be the variable $S$.
					$$S = \sum^{C}_{k=1}\{(k - \frac{1}{2})CR \times F(k)\} = CR\{\sum^{C}_{k=1}k - \frac{1}{2}\sum^{C}_{k=1}F(k)\}$$

					Let the Total of Frequency be the variable $T$.<br />
					$$T = \sum^{C}_{k=1}F(k)$$

					And,<br />
					$$\sum^{C}_{k=1}k = \frac{C(C + 1)}{2}$$

					Then,<br />
					$$S = CR\{\frac{C(C + 1)}{2} - \frac{T}{2}\} = \frac{CR}{2}\{C(C + 1) - T\}$$

					Let the Mean Value in Frequency Table be the variable $MF$.<br />
					$$MF = \frac{S}{T} = \frac{CR}{2T}\{C(C + 1) - T\}$$

					Let the Number of Data be the variable $N$.<br />
					Let each data be the variable $D(k)　(1 \leq k \leq N)$.<br />
					Let the Actual Mean Value be the variable $AM$.<br />
					$$AM = \frac{1}{T}\sum^{N}_{k=1}D(k)$$

					Let the difference of MF and AM be the variable $DIFF$.<br />
					$$DIFF = MF - AM = \frac{1}{T}[\frac{CR}{2}\{C(C + 1) - T\} - \sum^{N}_{k=1}D(k)]$$

					Let the variable $R_{DIFF}$ be the ratio of $DIFF$ to $AM$.<br />
					$$R_{DIFF} = \frac{DIFF}{AM}$$

					Let the variable $P_{DIFF}$ be the percentage of $DIFF$ to $AM$.<br />
					$$P_{DIFF} = R_{DIFF} \times 100$$

					$DIFF$ and $P_{DIFF}$ have complicated behavior.<br />
				</p>
			</div>
			<div class="subject" id="examination1">
				<h2>Examination1: Changing Class Range</h2>
				<p class="paragraph">
					The tool used for this examination is <a href="https://github.com/macocci7/PHP-FrequencyTable" target="_blank">macocci7/php-frequency-table</a>.<br />
					And PHP Code used for this examination is <a href="Examination1_01.php" target="_blnak">Examination1_01.php</a><br />
					The result data file is <a href="Examination1_01.csv" target="_blank">Examination1_01.csv</a><br />
					<br />
					Gradually change the Class Range from $1$ to $0.001$ in steps of $-0.001$.<br />
					<img src="img/Examination1_01.png" width="774" /><br />
					From this graph, we can see the $P_{DIFF}$ value tends to converge to $0\%$<br />
					as the Class Value approaches $0.001$.<br />
					When the Class Value is $0.223$ or less, the $P_{DIFF}$ is mostly with in $0.1\%$.<br />
					The only exception is when the Class Value is $0.125$, where $P_{DIFF} = 0.10833333333321\%$.<br />
				</p>
			</div>
			<div class="subject" id="examination2">
				<h2>Examination2: Changing Number of Data</h2>
				<p class="paragraph">
					PHP Code used for this examination is <a href="Examination2_02.php" target="_blank">Examination2_02.php</a><br />
					The result data file is <a href="Examination2_02.csv" target="_blank">Examination2_02.csv</a><br />
					<br />
					Gradually change the Number of Data from $13$ to $1,000,000$.<br />
					Data Range is fixed at $85 ( 10 ～ 95 )$. Class Range is $20$.<br />
					<img src="img/Examination2_01.png" width="774"/><br />
					$P_{DIFF}$ behaves in complex ways.<br />
					However, $P_{DIFF}$ still seems to oscillate around $0.59\%$.<br />
					The Mean Value of $P_{DIFF}$ in this case is $0.585637401$.<br />
					And $P_{DIFF}$ seems to converge to $0.59\%$.<br />
				</p>
			</div>
			<div class="subject" id="conclusion">
				<h2>Conclusion</h2>
				<p class="paragraph">
					I have only examined two cases this time, but I can still say something,<br />
					so I will draw a conclusion here.<br />
					<br />
					<ol>
						<li>Class Range Greatly affects the accuracy of Mean Value in Frequency Table.</li>
						<li>If you want to increase the accuracy of Mean Value in Frequency Table, you should reduce the class value.</li>
						<li>If doing so, however, there's no advantage of creating Frequency Table.</li>
						<li>Number of Data has little effect on the accuracy of Mean Value in Frequency Table.</li>
						<li>Mean Value in Frequency Table is only an approximation.</li>
					</ol>
				</p>
			</div>
			<div class="subject">
				<i>Document created: 2023/05/29</i>
			</div>
			<copyright>Copyright 2023 macocci7.</copyright>
		</div>
    </body>
</html>
